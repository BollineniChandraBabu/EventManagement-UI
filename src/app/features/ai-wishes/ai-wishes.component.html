<div class="page">
  <section class="panel">
    <h2 class="page-title">AI Wish Generator</h2>
    <form [formGroup]="form" class="form-grid">
      <div>
        <label class="form-label">Name</label>
        <input class="form-control" formControlName="name" />
      </div>
      <div>
        <label class="form-label">Relation</label>
        <select class="form-select" formControlName="relation">
          <option value="">Select relationship</option>
          <option *ngFor="let relation of relationshipOptions" [value]="relation">{{ relation }}</option>
        </select>
      </div>
      <div>
        <label class="form-label">Event</label>
        <input class="form-control" formControlName="event" />
      </div>
      <div>
        <label class="form-label">Tone</label>
        <input class="form-control" formControlName="tone" />
      </div>
      <div>
        <label class="form-label">Language</label>
        <input class="form-control" formControlName="language" />
      </div>
    </form>

    <div class="d-flex gap-2 my-3">
      <button class="btn btn-primary" type="button" (click)="generate()">Generate</button>
    </div>


    <div>
      <label class="form-label">Subject</label>
      <input class="form-control" [(ngModel)]="subject" />
    </div>

    <div>
      <label class="form-label">Editable result</label>
      <textarea class="form-control" rows="5" [(ngModel)]="result"></textarea>
    </div>

    <section class="preview-section" *ngIf="result.trim()">
      <h3 class="preview-title">Email Preview</h3>
      <div class="preview-grid">
        <div class="preview-card">
          <h4>Desktop</h4>
          <iframe class="preview-frame" [srcdoc]="desktopPreviewSrcDoc" title="Desktop email preview"></iframe>
        </div>
        <div class="preview-card">
          <h4>Mobile</h4>
          <iframe class="preview-frame mobile" [srcdoc]="mobilePreviewSrcDoc" title="Mobile email preview"></iframe>
        </div>
      </div>
    </section>
  </section>
</div>
